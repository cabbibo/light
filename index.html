<!--


If you are reading this. It is because you probably code.

Chances are that also means that you, like me, exist at the pinnacle of privledge.
It saddens me in many ways, that I feel like this is the best change I can make.

Sure, I've donated a TON of money to the organizations mentioned in this, but still,
there is more I can do, more that I should have done. I can be better than I am.

You can be better than you are.

Make something, no matter how small, no matter if it only reaches 5 people
Just start trying to make a change. It is a muscle to participate, to try and
enact change in a world that seems so uncaring.

But you can do it!

I love you.
Isaac


-->



<html>



  <head>
    <style>
      body{ margin:0px;font-size:30px;
      font-family: "Calibre-Thin", "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Helmut, Arial, "Lucida Grande", sans-serif;
      font-weight: 300;
      font-style: normal;
      color: #ffffff; }
      

      #infoBody{
      z-index: 999;
      position: absolute;
      right: 20px;
      //width: 20px;
      background: none;
    }
      html{ overflow: hidden }
    </style>


      <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
      <meta name="twitter:card" content="photo">
      <meta name="twitter:site" content="@cabbibo">
      <meta name="twitter:creator" content="@cabbibo">
      <meta name="twitter:url" content="http://cabbi.bo/light">
      <meta name="twitter:title" content="Love is All">
      <meta name="twitter:description" content="Though it is quiet, love has more power than the darkness ever will.">
      <meta name="twitter:creator" content="@cabbibo">
      <meta name="twitter:image" content="http://cabbi.bo/light/image.png">
      <meta name="twitter:image:width" content="1440">
      <meta name="twitter:image:height" content="900">
      <meta name="twitter:domain" content="cabbi.bo">
      <meta itemprop="name" content="Cabbi.bo">
      <meta itemprop="description" content="Though it is quiet, love has more power than the darkness ever will.">
      <meta itemprop="image" src="http://cabbi.bo/light/image.png">
      <meta property="og:title" content="Though it is quiet, love has more power than the darkness ever will.">
      <meta property="og:type" content="website">
      <meta property="og:url" content="http://cabbi.bo/light">
      <meta property="og:image" content="http://cabbi.bo/light/image.png"/>
      <meta property="og:site_name" content="Cabbi.bo">
      <meta property="og:description" content="Though it is quiet, love has more power than the darkness ever will.">

  </head>

  <body>

    <script src="lib/three.min.js">             </script>
    <script src="lib/jquery.min.js">            </script>
    <script src="lib/ShaderLoader.js">          </script>

    <script src="lib/ScrollControls.js">        </script>
    <script src="lib/ObjectControls.js">        </script>
    
    <script src="fonts/PTMono.js">              </script>
    <script src="TextParticles.js">             </script>

    <script src="text/passage.js">              </script>
    <script src="text/love.js">                 </script>

    <script src="Light.js">                     </script>
    <script src="Connections.js">               </script>
    <script src="Darkness.js">                  </script>

    <script src="js/crystalGeo.js">             </script>
    <script src="js/RayGeo.js">                 </script>
    <script src="js/ConnectionGeo.js">          </script>
    <script src="js/Link.js">                   </script>
    <script src="js/DarknessGeo.js">            </script>
   

    <script>

      var T = THREE;


      var camera, renderer, scene , controls , clock;
      
      var textParticles;

      var font = PTMono( 'fonts/PTMono.png' );

      var time = { type:"f" , value: 1 }
      var shaders = new ShaderLoader( 'examples/fade/shaders' );

      shaders.shaderSetLoaded = function(){
        init();
        animate();
      }

      shaders.load( 'vs-text' , 'text' , 'vertex'   );
      shaders.load( 'fs-text' , 'text' , 'fragment' );

      shaders.load( 'vs-title' , 'title' , 'vertex'   );
      shaders.load( 'fs-title' , 'title' , 'fragment' );


      shaders.load( 'vs-gem' , 'gem' , 'vertex'   );
      shaders.load( 'fs-gem' , 'gem' , 'fragment' );

      shaders.load( 'vs-ray' , 'ray' , 'vertex'   );
      shaders.load( 'fs-ray' , 'ray' , 'fragment' );

      shaders.load( 'vs-darkness' , 'darkness' , 'vertex'   );
      shaders.load( 'fs-darkness' , 'darkness' , 'fragment' );





      shaders.load( 'vs-connections' , 'connections' , 'vertex'   );
      shaders.load( 'fs-connections' , 'connections' , 'fragment' );

      var uniforms = {
        
        dT:       { type:"f"  , value : 0             },
        time:     { type:"f"  , value : 0             },
        progress: { type:"f"  , value : 0             },
        iModelMat:{ type:"m4" , value: new THREE.Matrix4() }
      }

      var linkInfo = [];

      linkInfo.push({
        title: 'Donate to ACLU',
        href: "http://aclu.org/Donate"
      });

      linkInfo.push({
        title: "Contact your House Representive",
        href: "http://www.house.gov/representatives/find/"
      });

      linkInfo.push({
        title: "Donate the Muslim Legal Fund of America",
        href: "https://www.mlfa.org/donate/"
      });

      linkInfo.push({
        title: "Donate to Planned Parenthood",
        href: "https://secure.ppaction.org/site/Donation2?df_id=12913&12913.donation=form1&s_src=Evergreen_c3_PPNonDirected_banner&_ga=1.100212446.1135286350.1478760050"
      });
      http://jezebel.com/a-list-of-pro-women-pro-immigrant-pro-earth-anti-big-1788752078

      linkInfo.push({
        title: "A List of Organizations That Need Your Support",
        href: "http://jezebel.com/a-list-of-pro-women-pro-immigrant-pro-earth-anti-big-1788752078"
      });
      linkInfo.push({
        title: "Share on Twitter",
        href: "http://twitter.com/share?text=Love%20is%20all.%20It%20is%20more%20than%20hate,%20more%20than%20fear,%20and%20though%20it%20is%20quiet%20it%20has%20more%20power%20than%20the%20dark%20ever%20will%3A&url=http://cabbi.bo/light/"
      });





      function init(){


       infoBody = document.createElement("div");

       infoBody.id ="infoBody";
        //this.infoBody.innerHTML = "scroll  <br/> &#x2193; &#x2193; &#x2193;"
       infoBody.innerHTML = "scroll  <br/> &#x2193; &#x2193; &#x2193;"

       document.body.appendChild( infoBody );


        var w = window.innerWidth;
        var h = window.innerHeight;

        camera = new THREE.PerspectiveCamera( 65 , w/h , .001 , 10 );
        camera.position.z = 1;

        controls = new ScrollControls( camera );
        
        clock = new THREE.Clock();
        
        scene = new THREE.Scene();


        var dpr = window.devicePixelRatio || 1;
        renderer = new THREE.WebGLRenderer();
        renderer.setPixelRatio( dpr );
        renderer.setSize( window.innerWidth, window.innerHeight );

        document.body.appendChild( renderer.domElement );

        /*

           Object Control stuff!!!!

        */ 

        objectControls = new ObjectControls( camera );


        

        var vs = shaders.vertexShaders.text;
        var fs = shaders.fragmentShaders.text;


       /* title = new TextParticles( "I Love You" , font , vs , fs , {
         letterWidth: .05,
         lineLength: 29,
         uniforms:{
          time: time,
         }  
        });
        

        title.position.x = -title.totalWidth / 2;
       // title.position.z = -.2;
        title.position.y = .3;*/




        // Passage comes from seperate file
        textParticles = new TextParticles( iloveyou , font , vs , fs , {
         letterWidth: .03,
         lineLength: 50,
         uniforms:{
          time: time,
         }  
        });
        
        scene.add( textParticles );
       // scene.add( title );

        //textParticles.material.uniforms.time.value = 1.;

        textParticles.position.x = - textParticles.totalWidth / 2;

        controls.minPos     = -30.7;
        controls.maxPos     =  0;
        controls.multiplier =  .000003 * textParticles.totalHeight;
        controls.dampening  = .95;


        links = [];
        for( var i = 0; i < linkInfo.length; i++ ){

         links[i] = new Link(font , linkInfo[i].title ,linkInfo[i].href  );
         links[i].add( new THREE.Vector3( 0,-i*.15 - 30.3, 0));




        }





        firstLight = new Light();

        firstLight.add();

        var l = new THREE.Vector3( 0 , .3,-.5 );
        firstLight.setPos( l);


        secondLight = new Light();

        secondLight.add();

        var l = new THREE.Vector3( 0 , -2 -1 ,-.5);
        secondLight.setPos( l);


        darkness1 = new Darkness();
        darkness1.add();
        darkness1.mesh.position.copy( new THREE.Vector3(0, -2-1,-.1))
        darkness1.setDarkeningVals( -1.8 -1, -2.2-1);

      // darkness1.setDarkeningShimmer( .2);

        //secondLight.setBreakingShimmer( .01 );




        thirdLight = new Light();

        thirdLight.add();

        var l = new THREE.Vector3( 0 , -3.8 -2.4,-.2 );
        thirdLight.setPos( l);

        thirdLight.setBreakingShimmer( .01 );


        fourthLight = new Light();

        fourthLight.add();

        var l = new THREE.Vector3( 0 , -5 -3.6,-.4 );
        fourthLight.setPos( l);

        fourthLight.setBWVals( -4.8-3.6 , -5.2 -3.6);

        darkness2 = new Darkness();
        darkness2.add();
        darkness2.mesh.position.copy( new THREE.Vector3(0, -5-3.5,-.2))
        darkness2.setDarkeningVals( -4.5 -3.6, -6-3.6);



        fifthLight = new Light(5, .6, 50 );

        fifthLight.add();

        var l = new THREE.Vector3( 0 , -6.2-5.1 ,-.5 );
        fifthLight.setPos( l);

        fifthLight.setRayFill( -6-5.1 , -9.5-5.1 );



        sixthLight = new Light(1 , .2 , 30 );

        sixthLight.add();

        var l = new THREE.Vector3( 0 , -9.8-5.1,-.5 );
        sixthLight.setPos( l);

        sixthLight.setRayFill( -10-5.1, -10.5-5.1);


        seventhLights = [];

        for( var i = 0; i < 10; i++ ){
          

          seventhLights[i] = new Light(1 , .1 , 30 );

          seventhLights[i].add();


          var h= -10.5-5.7- Math.random() * 3.5 ;
          var l = new THREE.Vector3( (Math.random() - .5) * 4 , h ,-.5 - Math.random() * 2 );
          seventhLights[i].setPos( l);

          seventhLights[i].setRayFill( h , h - .3 );

        }

        eighthLights = [];

        for( var i = 0; i < 10; i++ ){
          

          eighthLights[i] = new Light(1 , .1 , 30 );

          eighthLights[i].add();


          var h= -13-8 - Math.random() * 4;
          var l = new THREE.Vector3( (Math.random() - .5) * 4 , h ,-.5 - Math.random() * 4 );
          eighthLights[i].setPos( l);

          eighthLights[i].setBWVals( h , h + .3 );
          eighthLights[i].setRayFill( h , h - .3 );

        }

        ninthLight = new Light(5 , .05 , 200 );

        ninthLight.add();

        var l = new THREE.Vector3( 0 , -18.2 -9,0 );
        ninthLight.setRayFill( -18.2-9 , -20-9 );
        ninthLight.setPos( l);


        var lightsToConnect = [];

       /* for( var i = 0; i < seventhLights.length; i++ ){
          lightsToConnect.push(seventhLights[i])
        }*/

        for( var i = 0; i < eighthLights.length; i++ ){
          lightsToConnect.push(eighthLights[i])
        }

        lightsToConnect.push( ninthLight );

        connections = new Connections( lightsToConnect );

        connections.add();
        connections.setConnectingVals(-14-7 , -17-8);
       // sixthLight.setRayFill( -10 , -10.5 );




        window.addEventListener( 'resize', onWindowResize, false );

      }

      
      function animate(){

        requestAnimationFrame( animate );

        time.value += clock.getDelta();

        darkness1.update();
        darkness2.update();

        firstLight.update();
        secondLight.update();
        thirdLight.update();
        fourthLight.update();
        fifthLight.update();
        sixthLight.update();

        for( var i = 0; i < seventhLights.length; i++ ){
          seventhLights[i].update();
        }

        for( var i = 0; i < eighthLights.length; i++ ){
          eighthLights[i].update();
        }

        ninthLight.update();

        connections.update();

        objectControls.update();
        controls.update();
        renderer.render( scene , camera );

        infoBody.style.top = 20 * camera.position.y + "px";


      }


      function onWindowResize() {

				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();

				renderer.setSize( window.innerWidth, window.innerHeight );

			}

    </script>

  </body>
</html>
